(window.webpackJsonp=window.webpackJsonp||[]).push([[19,7,11,21,23],{142:function(e,n,t){"use strict";t.r(n),t.d(n,"default",function(){return a});t(73);var r=t(172);function a(e,n){var t=100;function a(n){var t=e.getTokenTypeAt(r.Pos(n,0)),a=/\bsection\b/.test(t);return t&&a}function o(e,n,r){var o=n&&n.match(/^#+/);return o&&a(e)?o[0].length:t}function i(e,n){return n&&/(^\.[\w]+.+)|(?:(?:^int|ext|est|int\.ext|int\/ext|i\/e)[. ].+)$/i.test(n)}var s=e.getLine(n.line),l=e.getLine(n.line+1);if(i(n.line,s)){for(var c=e.lastLine(),d=n.line,p=e.getLine(d+2);d<c&&!i(0,l)&&!a(d+1);)++d,l=p,p=e.getLine(d+2);return{from:r.Pos(n.line,s.length),to:r.Pos(d,e.getLine(d).length)}}var u=o(n.line,s);if(u!==t){for(var f=e.lastLine(),h=n.line,g=e.getLine(h+2);h<f&&!(o(h+1,l)<=u);)++h,l=g,g=e.getLine(h+2);return{from:r.Pos(n.line,s.length),to:r.Pos(h,e.getLine(h).length)}}}},143:function(e,n,t){"use strict";t.r(n),t.d(n,"default",function(){return v});var r=t(33),a=t.n(r),o=t(7),i=t.n(o),s=t(0),l=t.n(s),c=t(200),d=t(145),p=t(201),u=t(210),f=t(146);t(154),t(155),t(156),t(157);t(192),t(202),t(203),t(193),t(194);var h="newfile.fountain",g=function(e,n,t){return l.a.createElement("button",{className:"editor__toolbar__btn",onClick:e},l.a.createElement("img",{src:n,width:"24px",alt:t}))},v=(f.default,function(e){function n(n){var t;return(t=e.call(this,n)||this).download=function(){if(t.editorInstance){var e=t.editorInstance.getValue(),n=t.props.file||h,r=new Blob([e],{type:"text/plain;charset=utf-8"});Object(c.saveAs)(r,n)}else t.props.onError("editorInstance not loaded!")},t.saveToDropbox=function(){if(t.editorInstance){var e=t.editorInstance.getValue();t.props.onDropboxSave(t.props.file,e)}else t.props.onError("editorInstance not loaded!")},t.transliterate=function(){if(t.editorInstance){var e=t.editorInstance.getValue();t.props.transMenu.onTransliteration(e,t.props.transMenu.selectedScheme)}else t.props.onError("editorInstance not loaded!")},t.generatePdf=function(){if(t.editorInstance){var e=t.editorInstance.getValue();t.props.onPreview(e,!1)}else t.props.onError("editorInstance not loaded!")},t.generateIndianPdf=function(){if(t.editorInstance){var e=t.editorInstance.getValue();t.props.onPreview(e,!0)}else t.props.onError("editorInstance not loaded!")},t.handleTransSelection=function(e){t.props.transMenu.onSelection(e)},t.editorInstance=null,t.transliterate=t.transliterate.bind(a()(t)),t.download=t.download.bind(a()(t)),t.generatePdf=t.generatePdf.bind(a()(t)),t.handleTransSelection=t.handleTransSelection.bind(a()(t)),t.saveToDropbox=t.saveToDropbox.bind(a()(t)),t}return i()(n,e),n.prototype.render=function(){var e=this;console.log("editor render");var n=this.props.file||h,t=g(this.download,"gfx/icons/download.svg","downloand"),r=g(this.generatePdf,"gfx/icons/pdf.svg","pdf"),a=g(this.generateIndianPdf,"gfx/icons/indian.svg","pdf"),o=g(this.transliterate,"gfx/icons/arrow.svg","Transliterate"),i=g(this.saveToDropbox,"gfx/icons/dropbox.svg","Dropbox"),s=this.props.transMenu?l.a.createElement("div",{style:{display:"inline-block"}},l.a.createElement(u.a,{className:"transmenu",value:this.props.transMenu.selectedScheme,onChange:this.handleTransSelection,options:this.props.transMenu.options}),o):null;return l.a.createElement("div",{className:"editor",style:this.props.style},l.a.createElement("div",{className:"editor__toolbar"},l.a.createElement(d.default,{onEditEnd:function(n){e.props.onFileNameChange(n)},maxLength:"20",containerClass:"input-container",inputClass:"input-class",textClass:"text-class",value:n}),s,t,i,r,a),l.a.createElement(p.Controlled,null))},n}(l.a.Component))},145:function(e,n,t){"use strict";t.r(n),t.d(n,"default",function(){return c});var r=t(33),a=t.n(r),o=t(7),i=t.n(o),s=t(0),l=t.n(s),c=function(e){function n(n){var t;return(t=e.call(this,n)||this).enableEditMode=function(){t.setState({editEnabled:!0})},t.disableEditMode=function(){t.setState({editEnabled:!1})},t.onBlur=function(e){t.disableEditMode(),t.props.onEditEnd&&t.props.onEditEnd(t.input.current.value)},t.handleEnterKey=function(e){13!==e.keyCode&&13!==e.charCode||t.disableEditMode(),t.props.onEditEnd&&t.props.onEditEnd(t.input.current.value)},t.state={editEnabled:!1},t.input=l.a.createRef(),t.enableEditMode=t.enableEditMode.bind(a()(t)),t.disableEditMode=t.disableEditMode.bind(a()(t)),t}return i()(n,e),n.prototype.render=function(){var e=this.props.value&&this.props.value.length>this.props.maxLength?this.props.value.substring(0,this.props.maxLength)+"...":this.props.value,n=this.state.editEnabled?l.a.createElement("input",{ref:this.input,className:this.props.inputClass,type:"text",defaultValue:this.props.value,autoFocus:!0,onBlur:this.onBlur,onKeyPress:this.handleEnterKey}):l.a.createElement("span",{className:this.props.textClass},e);return l.a.createElement("div",{className:this.props.containerClass,onClick:this.enableEditMode},n)},n}(l.a.Component)},146:function(e,n,t){"use strict";t.r(n),t.d(n,"default",function(){return g});t(73);var r=t(172),a=t(142),o=/(^\.[\w]+.+)|(?:(?:^int|ext|est|int\.ext|int\/ext|i\/e)[. ].+)$/i,i=/^[A-Z\s]+TO:$/,s=/^['A-Z\s\d]+(\s*\(.+\)\s*)*$/,l=/^\s*\(.+\)\s*$/,c=/^>(.+)<$/,d=/^#+/,p=/^\*(.+)\*$/,u=/^\*\*(.+)\*\*$/,f=/^\*\*\*(.+)\*\*\*$/,h=/^_(.+)_$/;function g(e,n){function t(e){var n=e.lookAhead(1);return!n||""===n}return r.registerHelper("fold","fountain",a.default),{startState:function(){return console.log("startState"),{blankLine:!1,character:!1,parenthetical:!1}},token:function(e,n){if(console.log("token"),e.match(p))return e.skipToEnd(),"em";if(e.match(u))return e.skipToEnd(),"strong";if(e.match(f))return e.skipToEnd(),"em strong";if(e.match(h))return e.skipToEnd(),"link";if(e.match(d))return e.skipToEnd(),"ften-section";if(e.match(c))return e.skipToEnd(),n.blankLine=!1,n.character=!1,n.dialog=!1,n.parenthetical=!1,"ften-centered-text";if((n.character||n.dialog)&&e.match(l))return e.skipToEnd(),n.blankLine=!1,n.character=!1,n.dialog=!0,n.parenthetical=!0,"variable-2 ften-parenthetical";if(n.character||n.parenthetical)return e.skipToEnd(),n.blankLine=!1,n.character=!1,n.parenthetical=!1,n.dialog=!0,"string ften-dialog";if(n.blankLine){if(e.match(s)&&!t(e))return e.skipToEnd(),n.blankLine=!1,n.character=!0,n.dialog=!1,n.parenthetical=!1,"keyword ften-character";if(e.match(i)&&t(e))return e.skipToEnd(),n.blankLine=!1,n.character=!1,n.dialog=!1,n.parenthetical=!1,"line-ften-transition"}return e.match(o)&&t(e)?(e.skipToEnd(),n.blankLine=!1,n.character=!1,n.dialog=!1,n.parenthetical=!1,"variable-2 line-ften-slugline"):(e.next(),"line-ften-action")},blankLine:function(e){e.blankLine=!0}}}},152:function(e,n,t){"use strict";t.r(n),t.d(n,"default",function(){return l});var r=t(7),a=t.n(r),o=t(0),i=t.n(o),s=t(143),l=function(e){function n(){return e.apply(this,arguments)||this}return a()(n,e),n.prototype.render=function(){return console.log("view container render"),i.a.createElement("div",{className:"view_container"},i.a.createElement(s.default,{style:{width:"100%"},onChange:this.props.onChange,content:this.props.content,onPreview:this.props.onPreview,onDropboxSave:this.props.onDropboxSave,onFileNameChange:this.props.onFileNameChange,file:this.props.file,onError:this.props.onError,onInfo:this.props.onInfo}))},n}(i.a.Component)}}]);
//# sourceMappingURL=component---src-pages-container-view-container-js-34a7894201055d69fed4.js.map