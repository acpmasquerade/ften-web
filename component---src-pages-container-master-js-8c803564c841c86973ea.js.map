{"version":3,"sources":["webpack:///./src/pages/components/menu_item.js","webpack:///./src/pages/components/dropbox-chooser.js","webpack:///./src/pages/components/preview.js","webpack:///./src/pages/container/view_container.js","webpack:///./src/pages/components/device-info.js","webpack:///./src/pages/components/dialog.js","webpack:///./src/pages/components/menu_bar.js","webpack:///./src/pages/container/detail.js","webpack:///./src/pages/components/about.js","webpack:///./src/pages/container/master.js","webpack:///./node_modules/load-script/index.js","webpack:///./src/utils/utils.js","webpack:///./node_modules/core-js/modules/es6.string.link.js","webpack:///./node_modules/core-js/modules/_string-html.js","webpack:///./src/utils/sample.js","webpack:///./node_modules/isomorphic-fetch/fetch-npm-browserify.js","webpack:///./node_modules/whatwg-fetch/fetch.js"],"names":["__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","props","a","createElement","className","alt","src","width","onClick","scriptLoadingStarted","DropboxChooser","_this","_React$Component","call","this","onChoose","bind","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0___default","componentDidMount","isDropboxReady","loadScript","attrs","id","data-app-key","appKey","window","Dropbox","disabled","_this$props","success","cancel","linkType","multiSelect","folderselect","extensions","choose","render","react__WEBPACK_IMPORTED_MODULE_2___default","_menu_item_js__WEBPACK_IMPORTED_MODULE_5__","React","Component","propTypes","children","PropTypes","node","string","isRequired","func","oneOf","multiselect","bool","arrayOf","defaultProps","pageMargins","stylesIndian","StyleSheet","create","page","flexDirection","paddingLeft","paddingRight","paddingTop","paddingBottom","scene_heading","action","textAlign","character","parenthetical","dialogue","fontSize","transition","ignored","color","styles","fontFamily","MyDocument","react__WEBPACK_IMPORTED_MODULE_3___default","_react_pdf_renderer__WEBPACK_IMPORTED_MODULE_4__","size","style","parser","parse","content","toString","tokens","map","token","i","element","type","Element","key","text","console","log","generate","_ref","Preview","height","indian","ViewContainer","react__WEBPACK_IMPORTED_MODULE_1___default","_components_editor_js__WEBPACK_IMPORTED_MODULE_2__","onChange","onPreview","onDropboxSave","onFileNameChange","file","onError","onInfo","Fragment","kind","message","onOk","onCancel","MenuBar","showOpenFileDlg","inputOpenFileRef","current","click","onChangeFile","event","stopPropagation","preventDefault","target","files","onOpen","value","createRef","accept","ref","display","_menu_item_js__WEBPACK_IMPORTED_MODULE_2__","_dropbox_chooser_js__WEBPACK_IMPORTED_MODULE_3__","onDropboxSuccess","onNew","onEdit","onTransliterate","onAbout","Details","setState","previewContent","actionToComponent","actionData","TRANSLITERATE","_trans_editor_js__WEBPACK_IMPORTED_MODULE_5__","onTransliteration","onEditorFilenameChange","onTransEditorFilenameChange","onEditorChange","onTransEditorChange","onDbxTransEditorSave","onDbxEditorSave","_view_container_js__WEBPACK_IMPORTED_MODULE_4__","editorContent","editorFile","state","mode","PREVIEW_MODE_INDIAN","PREVIEW_MODE","_components_preview__WEBPACK_IMPORTED_MODULE_6__","about","react_default","href","newFile","Master","updateState","newState","onWarningOk","warningMsg","EDITOR_MODE","FILE_NEW","sample","transEditorContent","clearErrorMsg","errorMsg","clearInfoMsg","infoMsg","clearWarningMsg","setErrorMessage","msg","readFileContents","isAllowedExtension","name","reader","FileReader","onload","FILE_OPEN","result","readAsText","newName","transEditorFile","newContent","handleNewMenu","handleOpenMenu","handleDropboxOpenMenu","fetch","link","method","then","response","handleEditMenu","FILE_EDIT","handleTransliterateMenu","EDITOR_MODE_TRANS","transContent","showHelp","dataURI","encodeURIComponent","options","save","assertThisInitialized_default","_this2","errorDialog","dialog","warningDialog","infoDialog","_this$state","device_info","menu_bar","detail","stdOnEnd","script","cb","onerror","Error","ieOnEnd","onreadystatechange","readyState","module","exports","opts","head","document","getElementsByTagName","charset","async","attr","setAttribute","setAttributes","appendChild","fileName","match","createHTML","url","$export","fails","defined","quot","tag","attribute","S","String","p1","replace","NAME","exec","O","P","F","test","toLowerCase","split","length","self","d","Headers","Request","Response","DOMException","support","searchParams","iterable","Symbol","blob","Blob","e","formData","arrayBuffer","viewClasses","isArrayBufferView","ArrayBuffer","isView","obj","indexOf","Object","prototype","normalizeName","TypeError","normalizeValue","iteratorFor","items","iterator","next","shift","done","undefined","headers","forEach","append","Array","isArray","header","getOwnPropertyNames","consumed","body","bodyUsed","Promise","reject","fileReaderReady","resolve","error","readBlobAsArrayBuffer","promise","readAsArrayBuffer","bufferClone","buf","slice","view","Uint8Array","byteLength","set","buffer","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","get","rejected","chars","fromCharCode","join","readArrayBufferAsText","decode","json","JSON","oldValue","has","hasOwnProperty","callback","thisArg","keys","push","values","entries","methods","input","upcased","credentials","signal","toUpperCase","referrer","form","trim","bytes","decodeURIComponent","bodyInit","status","ok","statusText","clone","redirectStatuses","redirect","RangeError","location","err","stack","constructor","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","line","parts","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","removeEventListener","send","polyfill"],"mappings":"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","file":"component---src-pages-container-master-js-8c803564c841c86973ea.js","sourcesContent":["import React from \"react\"\n\nexport default (props) =>\n    <div className={props.className} > \n        <span className=\"tooltiptext\">{props.alt}</span>        \n        <img \n            src={props.src} \n            alt={props.alt}\n            width=\"50px\"\n            onClick={props.onClick}/>          \n    </div>\n\n ","import React from \"react\";\n\nimport PropTypes from 'prop-types';\nimport loadScript from 'load-script';\nimport MenuItem from \"./menu_item.js\";\n\nconst DROPBOX_SDK_URL = 'https://www.dropbox.com/static/api/2/dropins.js';\nconst SCRIPT_ID = 'dropboxjs';\n\nlet scriptLoadingStarted = false;\n\nexport default class DropboxChooser extends React.Component {\n\n  static propTypes = {\n    children: PropTypes.node,\n    appKey: PropTypes.string.isRequired,\n    success: PropTypes.func.isRequired,\n    cancel: PropTypes.func,\n    linkType: PropTypes.oneOf(['preview', 'direct']),\n    multiselect: PropTypes.bool,\n    folderselect: PropTypes.bool,\n    extensions: PropTypes.arrayOf(PropTypes.string),\n    disabled: PropTypes.bool\n  };\n\n  static defaultProps = {\n    cancel: () => { },\n    linkType: 'direct',\n    multiselect: false,\n    folderselect: false,\n    disabled: false\n  };\n\n  constructor(props) {\n    super(props);\n    this.onChoose = this.onChoose.bind(this)\n  }\n\n  componentDidMount() {\n    if (!this.isDropboxReady() && !scriptLoadingStarted) {\n      scriptLoadingStarted = true;\n\n      loadScript(DROPBOX_SDK_URL, {\n        attrs: {\n          id: SCRIPT_ID,\n          'data-app-key': this.props.appKey\n        }\n      })\n    }\n  }\n\n  isDropboxReady() {\n    return !!window.Dropbox;\n  }\n\n  onChoose() {\n    if (!this.isDropboxReady() || this.props.disabled) {\n      return null;\n    }\n\n    const {\n      success,\n      cancel,\n      linkType,\n      multiSelect,\n      folderselect,\n      extensions\n    } = this.props;\n\n    window.Dropbox.choose({\n      success,\n      cancel,\n      linkType,\n      multiSelect,\n      folderselect,\n      extensions\n    });\n  }\n\n  render() {\n    return <MenuItem\n      className=\"menu-item\"\n      onClick={this.onChoose}\n      src=\"gfx/icons/dropbox-open-icon.svg\" alt=\"Dropbox\" />\n  }\n}","import React from \"react\"\nimport { Page, Text, Document, StyleSheet } from '@react-pdf/renderer';\nimport { PDFViewer } from '@react-pdf/renderer';\nimport parser from '../../lib/fountain.js'\n\n//inches\nconst pageMargins = {\n    left: 1.5,\n    right: 1,\n    top: 1,\n    bottom: 1\n}\n// const headingMargin = 1.5\nconst characterMargin = 3.7\nconst dialogMargin = 2.5\nconst parentheticalMargin = 3.1\nlet DPI = 72\n\n// Create styles\nconst stylesIndian = StyleSheet.create({\n  page: {\n    //for some reason marginRight is not working so using padding instead\n    flexDirection: 'col',\n    paddingLeft: pageMargins.left*DPI,\n    paddingRight: pageMargins.right*DPI,\n    paddingTop: pageMargins.top*DPI,\n    paddingBottom: pageMargins.bottom*72,\n  },\n  scene_heading: {\n    paddingTop: 16,\n  },\n  action: {\n    textAlign: 'left',\n    paddingTop: 16,\n    paddingRight: '40%'\n  },\n  character: {\n    paddingTop: 16,\n    paddingLeft: '60%',\n  },\n  parenthetical: {\n    paddingLeft: '60%',\n  },\n  dialogue: {\n    paddingLeft: '60%',\n    fontSize: 14\n  },\n  transition: {\n    textAlign: 'right',\n    paddingTop: 16\n  },\n  ignored: {\n    color: 'red'\n  }\n});\n\nconst styles = StyleSheet.create({\n  page: {\n    //for some reason marginRight is not working so using padding\n    flexDirection: 'col',\n    paddingLeft: pageMargins.left*DPI,\n    paddingRight: pageMargins.right*DPI,\n    paddingTop: pageMargins.top*DPI,\n    paddingBottom: pageMargins.bottom*72,\n    fontFamily: 'Courier'\n  },\n  scene_heading: {\n    paddingTop: 16,\n    paddingBottom: 16,\n  },\n  action: {\n    textAlign: 'left'\n  },\n  character: {\n    paddingTop: 16,\n    paddingLeft: (characterMargin-pageMargins.left)*DPI\n  },\n  parenthetical: {\n    paddingLeft: (parentheticalMargin-pageMargins.left)*DPI\n  },\n  dialogue: {\n    paddingLeft: (dialogMargin-pageMargins.left)*DPI,\n    fontSize: 14\n  },\n  transition: {\n    textAlign: 'right',\n    paddingTop: 16\n  },\n  ignored: {\n    color: 'red'\n  }\n});\n\nconst MyDocument = (props) => (\n  <Document>\n    <Page size=\"A4\" style={props.styles.page}>\n      {generate(props)}\n    </Page>\n  </Document>\n)\n\nconst Element = ({styles, token, text}) => {\n  return <Text style={styles[token]}>{text}</Text>\n}\n\nfunction generate(props) {\n\n  let tokens = parser.parse(props.content.toString(), true).tokens\n\n  let elements = tokens.map(function (token,i) {\n    let element\n    switch (token.type) {\n      case 'title':\n      case 'credit':\n      case 'author':\n      case 'authors':\n      case 'source':\n      case 'notes':\n      case 'draft_date':\n      case 'date':\n      case 'contact':\n      case 'copyright':\n      case 'page_break':\n      case 'line_break':\n      case 'centered':\n      case 'section':\n      case 'synopsis':\n      case 'note':\n      case 'boneyard_begin':\n      case 'boneyard_end':\n        element = <Element key={i} styles={props.styles} token={'ignored'} text={token.text}/>; break;\n      case 'dialogue_begin':\n      case 'dialogue_end':\n      case 'dual_dialogue_begin':\n      case 'dual_dialogue_end': break; //TODO\n      case 'scene_heading':\n      case 'transition':\n      case 'action':\n      case 'parenthetical':\n      case 'dialogue':\n      case 'character':\n        element = <Element key={i} styles={props.styles} token={token.type} text={token.text}/>; break;\n      default:  if (!token.text) { console.log(token) } break;\n    }\n    return element\n  });\n  return elements;\n}\n\n\nexport default class Preview extends React.Component {\n    render() {\n      return <div className=\"pdf\">\n        <PDFViewer style={{width:\"100%\",height:\"90vh\"}}>\n          <MyDocument\n            content={this.props.content}\n            styles={this.props.indian ? stylesIndian : styles}/>\n        </PDFViewer>\n      </div>\n    }\n}\n","import React from \"react\"\nimport Editor from \"../components/editor.js\";\n\nexport default class ViewContainer extends React.Component {\n\n  render() {\n    console.log('view container render')\n    return (\n      <div className=\"view_container\">\n        <Editor\n          style={{ width: '100%' }}\n          onChange={this.props.onChange}\n          content={this.props.content}\n          onPreview={this.props.onPreview}\n          onDropboxSave={this.props.onDropboxSave}\n          onFileNameChange={this.props.onFileNameChange}\n          file={this.props.file}\n          onError={this.props.onError}\n          onInfo={this.props.onInfo} />\n      </div>\n    )\n  }\n}","import React from \"react\"\n \nexport default () => (\n<div className=\"device-info\">  \n  <h3> Sorry, this application needs a device with atleast 768 pixel resolution.</h3>\n  <h4> But What is this? </h4>\n  <p>This application is for screenwriters, mostly for Indian screenwriters. It helps in two ways. </p>\n  <ul> \n    <li>Some Indian screenplays are maintained in two forms. One, a transliteration form \n      so that they can be read by people who cannot read the native script. Two, a native version. Writing a screenplay itself is an arduous task in itself and maintaining two versions is a headache one wants to avoid. With this application, one can 'convert' from one form to another easily.\n    </li>\n    <li>\n      The screenplay format -- at least for production -- used in India is also different than the Hollywood format. In the Indian version, the page is split in half vertically. The screen action is on the left and dialogs are on the right. The task of maintaining two versions typically befalls on an unpaid assistant director! This application helps generate an Indian format as needed.\n    </li>\n  </ul>\n  <p> You can just have one script and generate the format you want and whenever you want.</p>  \n</div>)\n","import React from \"react\"\nexport default (props) => (<>\n\n  <div className={`dialog ${props.kind}`}>\n    <p>{props.message}</p>\n    <button className=\"dialog--btn\" onClick={props.onOk}>Ok</button>\n    {/* Only warnings get a cancel option */}\n    { props.kind === 'warning' ? <button className=\"dialog--btn\" onClick={props.onCancel}>Cancel</button> : null }\n  </div>\n</>)","import React from \"react\"\nimport MenuItem from \"./menu_item.js\"\nimport DropboxChooser from \"./dropbox-chooser.js\"\n\nconst DROPBOX_APP_KEY = 'dlgs25astqhe1gc';\n\nexport default class MenuBar extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.inputOpenFileRef = React.createRef()\n  }\n  showOpenFileDlg = () => {\n    this.inputOpenFileRef.current.click()\n  }\n  onChangeFile = (event) => {\n    event.stopPropagation();\n    event.preventDefault();\n    let file = event.target.files[0];\n    if (file) {\n      this.props.onOpen(file);\n    }\n    // So the same file can be selected again.\n    const element = event.target;\n    element.value = '';\n  }\n  \n  render() {\n    return <div className=\"menu-bar\">\n      <input type='file' id='file'\n        accept=\".fountain,.txt\"\n        onChange={this.onChangeFile.bind(this)}\n        ref={this.inputOpenFileRef} style={{ display: 'none' }} />\n      <MenuItem className=\"menu-item\"\n        onClick={this.showOpenFileDlg}\n        src=\"gfx/icons/open.svg\" alt=\"Open File\" />\n      <DropboxChooser \n        appKey={DROPBOX_APP_KEY}\n        extensions={['.fountain','.txt']}\n        success={this.props.onDropboxSuccess}/>\n      <MenuItem className=\"menu-item\"\n        onClick={this.props.onNew}\n        src=\"gfx/icons/new.svg\" alt=\"New\" />  \n      <MenuItem className=\"menu-item\"\n        onClick={this.props.onEdit}\n        src=\"gfx/icons/editor.svg\" alt=\"Edit\" />\n      <MenuItem className=\"menu-item\"\n        onClick={this.props.onTransliterate}\n        src=\"gfx/icons/translation.svg\" alt=\"Trans\" />\n      <MenuItem className=\"menu-item\"\n        onClick={this.props.onAbout}\n        src=\"gfx/icons/info.svg\" alt=\"About\" />\n    </div>\n  }\n}","import React from \"react\"\n\nimport { TRANSLITERATE, PREVIEW_MODE, PREVIEW_MODE_INDIAN } from \"../../utils/utils.js\"\nimport ViewContainer from \"./view_container.js\";\nimport TransEditor from \"./trans_editor.js\";\nimport Preview from \"../components/preview\";\n\nexport default class Details extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      previewContent: null\n    }\n    this.actionToComponent = this.actionToComponent.bind(this)\n    this.onPreview = this.onPreview.bind(this)\n  }\n\n  onPreview = (value, indian) => {\n    this.props.onPreview(indian)\n    this.setState({ previewContent: value })\n  }\n\n  // TODO - just pass actionData as is?\n  actionToComponent = (actionData) => {\n    switch (actionData.action) {\n      case TRANSLITERATE:\n        return <TransEditor\n          actionData={this.props.actionData}                      \n          onTransliteration={this.props.onTransliteration}           \n          onEditorFilenameChange={this.props.onEditorFilenameChange}\n          onTransEditorFilenameChange={this.props.onTransEditorFilenameChange}           \n          onEditorChange={this.props.onEditorChange}\n          onTransEditorChange={this.props.onTransEditorChange}\n          onDbxTransEditorSave={this.props.onDbxTransEditorSave}\n          onDbxEditorSave={this.props.onDbxEditorSave}\n          onPreview={this.onPreview}\n          onError={this.props.onError}\n          onInfo={this.props.onInfo}\n        />\n      default:\n        return <ViewContainer\n          content={actionData.editorContent}\n          file={actionData.editorFile}\n          onFileNameChange={this.props.onEditorFilenameChange}           \n          onChange={this.props.onEditorChange}\n          onPreview={this.onPreview}\n          onDropboxSave={this.props.onDbxEditorSave}\n        />\n    }\n  }\n\n  render() {\n    console.log('detail render');\n    let element\n    if (this.props.actionData.mode === PREVIEW_MODE_INDIAN || this.props.actionData.mode === PREVIEW_MODE) {\n      element = <Preview\n        indian={this.props.actionData.mode === PREVIEW_MODE_INDIAN}\n        content={this.state.previewContent}\n        onError={this.props.onError}\n        onInfo={this.props.onInfo} />\n    }\n    else {\n      element = this.actionToComponent(this.props.actionData)\n    }\n    return (\n      <div className=\"detail\">\n        {element}\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n \nexport default (props) => (\n<div className=\"about\">\n  <div className=\"about-close-btn\">\n    <span onClick={props.onClick}>x</span>\n  </div>\n  <h3> What is this? </h3>\n  <p>This tool is for screenwriters, mostly for Indian screenwriters. It helps in two ways. </p>\n  <ul> \n    <li>Some Indian screenplays are maintained in two forms. One, a transliteration form \n      so that they can be read by people who cannot read the native script. Two, a native version. Writing a screenplay itself is an arduous task in itself and maintaining two versions is a headache one wants to avoid. With this application, one can 'convert' from one form to another easily.\n    </li>\n    <li>\n      The screenplay format -- at least for production -- used in India is also different than the Hollywood format. In the Indian version, the page is split in half vertically. The screen action is on the left and dialogs are on the right. The task of maintaining two versions typically befalls on an unpaid assistant director! This application helps generate an Indian format as needed.\n    </li>\n  </ul>\n  <p> You can just have one script and generate the format you want and whenever you want.</p>\n  <p> This is a client-side only app means your screenplay is never sent to any server.</p>\n  <h3> Known issues and features </h3>\n  <ul>\n    <li>Only converts the dialog portion of the script to native and vice-versa. Leaves action and character names as is. </li>\n    <li>Certain often used English words are not 'converted'. They are kept as is. An internal dictionary is used for that.</li>\n    <li>Only supports <a href=\"http://fountain.io\">Fountain</a> format which is an open format. Most screenwriting software has an option for fountain.</li>\n    <li>BUG: Indian PDF format in native script doesn't work yet. Waiting on dependent component to support the woff fonts. Workaround: Use command line tools from <a href=\"https://github.com/venkatgoud/fountain-utils\">here</a></li>\n    <li>Issue: Saving native script directly into Dropbox fails. Workaround: You can always use the download option to download into your Dropbox folder to sync it.</li>\n    <li>BUG: The PDF for Hollywood format doesn't have correct margins. Don't use it!</li>\n  </ul>   \n  <h3> Credits </h3>\n  <a href=\"https://github.com/mattdaly/Fountain.js\">https://github.com/mattdaly/Fountain.js</a><br/> \n  <a href=\"https://github.com/afterwriting\">https://github.com/afterwriting</a><br/> \n  <a href=\"https://www.npmjs.com/package/sanscript\">https://www.npmjs.com/package/sanscript</a> <br/>\n  Icon made by <a href=\"https://www.flaticon.com/authors/vignesh-oviyan\">Freepik,vignesh</a> from www.flaticon.com \n\n\n\n</div>)\n","import React from \"react\"\nimport Detail from \"./detail.js\"\nimport About from \"../components/about.js\"\nimport DeviceInfo from \"../components/device-info\"\nimport MenuBar from \"../components/menu_bar.js\"\nimport Dialog from \"../components/dialog.js\"\nimport { isAllowedExtension, EDITOR_MODE, EDITOR_MODE_TRANS, PREVIEW_MODE, PREVIEW_MODE_INDIAN, FILE_OPEN, FILE_EDIT, FILE_NEW, TRANSLITERATE } from \"../../utils/utils.js\"\nimport sample from \"../../utils/sample.js\"\n\nimport fetch from 'isomorphic-fetch';\nconst newFile = 'newfile1.fountain'\n\nexport default class Master extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      action: FILE_NEW,\n      mode: EDITOR_MODE,\n      editorFile: newFile,\n      editorContent: sample.content,\n      transEditorFile: newFile,\n      transEditorContent: ' ',\n      errorMsg: null,\n      infoMsg: null,\n      warningMsg: null,\n      showHelp: true\n    }\n    this.readFileContents = this.readFileContents.bind(this)\n\n    //TODO generalize this alert\n    this.onWarningOk = this.onWarningOk.bind(this)\n    this.clearInfoMsg = this.clearInfoMsg.bind(this)\n    this.clearErrorMsg = this.clearErrorMsg.bind(this)\n    this.clearWarningMsg = this.clearWarningMsg.bind(this)\n\n    this.updateState = this.updateState.bind(this)\n    this.onDropboxSave = this.onDropboxSave.bind(this)\n    this.onDbxEditorSave = this.onDbxEditorSave.bind(this)\n    this.onDbxTransEditorSave = this.onDbxTransEditorSave.bind(this)\n    this.onEditorFilenameChange = this.onEditorFilenameChange.bind(this)\n    this.onTransEditorFilenameChange = this.onTransEditorFilenameChange.bind(this)\n    this.setErrorMessage = this.setErrorMessage.bind(this)\n  }\n\n  updateState = (newState) => {\n    this.setState(newState);\n  }\n\n  onWarningOk = () => {\n    this.setState({\n      warningMsg: '',\n      mode: EDITOR_MODE,\n      action: FILE_NEW,\n      editorFile: null,\n      editorContent: sample.content,\n      transEditorContent: ' '\n    })\n  }\n\n  clearErrorMsg = () => {\n    this.setState({ errorMsg: '' })\n  }\n\n  clearInfoMsg = () => {\n    this.setState({ infoMsg: '' })\n  }\n\n  clearWarningMsg = () => {\n    this.setState({ warningMsg: '' })\n  }\n\n  setErrorMessage = (msg) => {\n    this.setState({ errorMsg: msg })\n  }\n\n  onInfo = (msg) => {\n    this.setState({ infoMsg: msg })\n  }\n\n  readFileContents = (file) => {\n    if (!isAllowedExtension(file.name)) {\n      this.setState({ editorFile: file.name, errorMsg: \"Not a Fountain file!\" })\n    }\n    else {\n      var reader = new FileReader();\n      reader.onload = () => {\n        this.updateState({ action: FILE_OPEN, editorFile: file.name, editorContent: reader.result })\n      }\n      reader.readAsText(file);\n    }\n  }\n\n  onEditorFilenameChange = (newName) => {\n    this.setState({ editorFile: newName })\n  }\n\n  onTransEditorFilenameChange = (newName) => {\n    this.setState({ transEditorFile: newName })\n  }\n\n  onEditorChange = (newContent) => {\n    this.setState({ editorContent: newContent });\n  }\n\n  onTransEditorChange = (newContent) => {\n    this.setState({ transEditorContent: newContent });\n  }\n\n  handleNewMenu = () => {\n    this.setState({ warningMsg: \"Existing content will be gone!\" })\n  }\n\n  handleOpenMenu = (file) => {\n    this.readFileContents(file)\n  }\n\n  handleDropboxOpenMenu = (files) => {\n    const file = files[0]; //file.link file.id\n    fetch(file.link, {\n      method: 'GET'\n    })\n      .then(response => { return response.text() })\n      .then((content) => {\n        this.updateState({\n          action: FILE_OPEN,\n          editorFile: file.name,\n          editorContent: content,\n          infoMsg: `Loaded from ${file.link}`\n        })\n      });\n  }\n\n  handleEditMenu = () => {\n    this.setState({\n      action: FILE_EDIT,\n      mode: EDITOR_MODE\n    })\n  }\n\n  handleTransliterateMenu = () => {\n    this.setState({\n      mode: EDITOR_MODE_TRANS,\n      action: TRANSLITERATE\n    })\n  }\n\n  onTransliteration = (content, transContent) => {\n    this.setState({ editorContent: content, transEditorContent: transContent });\n  }\n\n  onPreview = (indian) => {\n    this.setState({\n      mode: indian ? PREVIEW_MODE_INDIAN : PREVIEW_MODE\n    })\n  }\n\n  onAbout = () => {\n    this.setState({showHelp: true})\n  }\n\n  onDbxTransEditorSave = (name, content) => {\n    this.onDropboxSave(name, content)\n  }\n\n  onDbxEditorSave = (name, content) => {\n    this.onDropboxSave(name, content)\n  }\n\n  onDropboxSave = (name, content) => {\n    const dataURI = 'data:;text/plain,' + encodeURIComponent(content);\n    let options = {\n      success: () => {\n        this.setState({ infoMsg: `${name} saved` })\n      },\n    }\n    window.Dropbox.save(dataURI, name, options);\n  }\n\n  render() {\n    console.log('master render');\n\n    const errorDialog = this.state.errorMsg ?\n      <Dialog\n        kind=\"error\"\n        message={this.state.errorMsg}\n        onOk={this.clearErrorMsg} /> : null;\n\n    const warningDialog = this.state.warningMsg ?\n      <Dialog\n        kind=\"warning\"\n        message={this.state.warningMsg}\n        onOk={this.onWarningOk}\n        onCancel={this.clearWarningMsg} /> : null;\n\n    const infoDialog = this.state.infoMsg ?\n      <Dialog\n        kind=\"info\"\n        message={this.state.infoMsg}\n        onOk={this.clearInfoMsg} /> : null;\n\n    let { mode, action, editorContent, transEditorContent, editorFile, transEditorFile } = this.state;\n    let actionData = { mode, action, editorContent, transEditorContent, editorFile, transEditorFile };\n\n    return (\n      <div className=\"master\">\n        <DeviceInfo/>\n        <MenuBar\n          onOpen={this.handleOpenMenu}\n          onDropboxSuccess={this.handleDropboxOpenMenu}\n          onNew={this.handleNewMenu}\n          onEdit={this.handleEditMenu}\n          onTransliterate={this.handleTransliterateMenu}\n          onAbout={this.onAbout}\n        />\n        {errorDialog}\n        {warningDialog}\n        {infoDialog}\n        {this.state.showHelp ? <About onClick={()=>{this.setState({showHelp: false})}}/> : null}\n        <Detail\n          actionData={actionData}\n          onPreview={this.onPreview}\n          onTransliteration={this.onTransliteration}\n          onEditorChange={this.onEditorChange}\n          onEditorFilenameChange={this.onEditorFilenameChange}\n          onDbxEditorSave={this.onDbxEditorSave}\n          onTransEditorChange={this.onTransEditorChange}\n          onTransEditorFilenameChange={this.onTransEditorFilenameChange}\n          onDbxTransEditorSave={this.onDbxTransEditorSave}\n          onError={this.setErrorMessage}\n          onInfo={this.onInfo}\n        />\n      </div>)\n  }\n}","\nmodule.exports = function load (src, opts, cb) {\n  var head = document.head || document.getElementsByTagName('head')[0]\n  var script = document.createElement('script')\n\n  if (typeof opts === 'function') {\n    cb = opts\n    opts = {}\n  }\n\n  opts = opts || {}\n  cb = cb || function() {}\n\n  script.type = opts.type || 'text/javascript'\n  script.charset = opts.charset || 'utf8';\n  script.async = 'async' in opts ? !!opts.async : true\n  script.src = src\n\n  if (opts.attrs) {\n    setAttributes(script, opts.attrs)\n  }\n\n  if (opts.text) {\n    script.text = '' + opts.text\n  }\n\n  var onend = 'onload' in script ? stdOnEnd : ieOnEnd\n  onend(script, cb)\n\n  // some good legacy browsers (firefox) fail the 'in' detection above\n  // so as a fallback we always set onload\n  // old IE will ignore this and new IE will set onload\n  if (!script.onload) {\n    stdOnEnd(script, cb);\n  }\n\n  head.appendChild(script)\n}\n\nfunction setAttributes(script, attrs) {\n  for (var attr in attrs) {\n    script.setAttribute(attr, attrs[attr]);\n  }\n}\n\nfunction stdOnEnd (script, cb) {\n  script.onload = function () {\n    this.onerror = this.onload = null\n    cb(null, script)\n  }\n  script.onerror = function () {\n    // this.onload = null here is necessary\n    // because even IE9 works not like others\n    this.onerror = this.onload = null\n    cb(new Error('Failed to load ' + this.src), script)\n  }\n}\n\nfunction ieOnEnd (script, cb) {\n  script.onreadystatechange = function () {\n    if (this.readyState != 'complete' && this.readyState != 'loaded') return\n    this.onreadystatechange = null\n    cb(null, script) // there is no way to catch loading errors in IE8\n  }\n}\n","const FILE_OPEN = \"file_open\"\nconst FILE_EDIT = \"file_edit\"\nconst FILE_NEW = \"file_new\" \nconst SETTINGS = \"settings\"\nconst TRANSLITERATE = \"transliterate\"\nconst EDITOR_MODE = 'editor';\nconst EDITOR_MODE_TRANS = 'trans_editor';\nconst PREVIEW_MODE = 'preview';\nconst PREVIEW_MODE_INDIAN = 'preview_indian';\n\nlet isAllowedExtension = (fileName) => {\n    return (fileName.match(/.+.[txt|fountain]$/) == null ? false : true)\n}\n\nlet parseQueryString = function(str) {\n  var ret = Object.create(null);\n\n  if (typeof str !== 'string') {\n    return ret;\n  }\n\n  str = str.trim().replace(/^(\\?|#|&)/, '');\n\n  if (!str) {\n    return ret;\n  }\n\n  str.split('&').forEach(function (param) {\n    var parts = param.replace(/\\+/g, ' ').split('=');\n    // Firefox (pre 40) decodes `%3D` to `=`\n    // https://github.com/sindresorhus/query-string/pull/37\n    var key = parts.shift();\n    var val = parts.length > 0 ? parts.join('=') : undefined;\n\n    key = decodeURIComponent(key);\n\n    // missing `=` should be `null`:\n    // http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n    val = val === undefined ? null : decodeURIComponent(val);\n\n    if (ret[key] === undefined) {\n      ret[key] = val;\n    } else if (Array.isArray(ret[key])) {\n      ret[key].push(val);\n    } else {\n      ret[key] = [ret[key], val];\n    }\n  });\n\n  return ret;\n}\n\nexport {isAllowedExtension, parseQueryString, FILE_EDIT, FILE_NEW, FILE_OPEN, EDITOR_MODE_TRANS, EDITOR_MODE, SETTINGS,PREVIEW_MODE,PREVIEW_MODE_INDIAN, TRANSLITERATE}","'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function (createHTML) {\n  return function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  };\n});\n","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","module.exports = {\n  content: \"EXT. SOME RANDOM PLACE - DAY\\n\\nCharacters ONE and TWO argue about a mysterious element. \\n\\nONE\\npaTTi.mcukOku. vadiley.\\n\\nTWO\\nalaa elA vadilestAM?\\n\\nONE\\nvadileyyaka mari?\\n\\nTWO\\nEmanuku.mTADu. nEnu daggarikelte ma.mchidEmO.\\n\\nONE\\neMduku?\\n\\nTWO\\nemO. Emi cheyakuMDa vuMDe badulu...\\n\\nONE\\ncUDu. paTTiMcukoleka povaTaM neeku kaShTamaitE velli pOdAM pada.\\n\\nTWO\\nmana daggarinuMchi ataniki Emanna kaavalsi vaste?\\n\\nONE\\nkaavalsi vaste vacci aDugutADu.\\n\\nTWO\\nnaaku vellalaMTE bhayaMgA vuMdi.\\n\\nONE\\neMduku?\\n\\nTWO\\nteleedu. tappu chestunnaamEmO nani.\\n\\nONE\\nokay. ikkaDe vuMdAM.\\n\\nTWO\\nthaaMks.\\n\\nONE\\nnEnu daggarikeltAnu.\\n\\nOne starts.\\n\\nTWO\\noddu.\\n\\nONE\\neMdukoddu?. nuvvu veltaa annavu?\\n\\nTWO\\nmanasu maarchu kunna. elaa react avutaaDO teleedu kada.\\n\\nONE\\ncUDu. edo okaTi. iTanna, aTanna, okay?\\n\\nTWO\\nokay. iddaraM veldAM pada?\\n\\nONE\\n(pause)\\nsare.\"\n}\n","// the whatwg-fetch polyfill installs the fetch() function\n// on the global object (window or self)\n//\n// Return that as the export for use in Webpack, Browserify etc.\nrequire('whatwg-fetch');\nmodule.exports = self.fetch.bind(self);\n","var support = {\n  searchParams: 'URLSearchParams' in self,\n  iterable: 'Symbol' in self && 'iterator' in Symbol,\n  blob:\n    'FileReader' in self &&\n    'Blob' in self &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in self,\n  arrayBuffer: 'ArrayBuffer' in self\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : 'OK'\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = self.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      resolve(new Response(body, options))\n    }\n\n    xhr.onerror = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.ontimeout = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.onabort = function() {\n      reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    xhr.open(request.method, request.url, true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr && support.blob) {\n      xhr.responseType = 'blob'\n    }\n\n    request.headers.forEach(function(value, name) {\n      xhr.setRequestHeader(name, value)\n    })\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!self.fetch) {\n  self.fetch = fetch\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n}\n"],"sourceRoot":""}